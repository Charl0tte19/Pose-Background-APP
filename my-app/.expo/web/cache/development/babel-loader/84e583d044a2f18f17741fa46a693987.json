{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"D:\\\\app\\\\my-app\\\\forthpage.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { useEffect, useState } from \"react\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport * as ImagePicker from 'expo-image-picker';\nimport { Ionicons } from '@expo/vector-icons';\n\nvar forthpage = function (_React$Component) {\n  _inherits(forthpage, _React$Component);\n\n  var _super = _createSuper(forthpage);\n\n  function forthpage(props) {\n    var _this;\n\n    _classCallCheck(this, forthpage);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      background_img: null,\n      base64_img: null,\n      data: null,\n      isLoading: true\n    };\n    return _this;\n  }\n\n  _createClass(forthpage, [{\n    key: \"upload_1\",\n    value: function upload_1(Base64) {\n      var _this2 = this;\n\n      var url = 'http://140.123.97.109:5360';\n      var obj = {\n        image: Base64\n      };\n      fetch(url + '/test_fetch.php', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(obj)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (json) {\n        _this2.setState({\n          data: json\n        });\n      }).catch(function (error) {\n        return console.error(error);\n      }).finally(function () {\n        _this2.setState({\n          isLoading: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var openCameraPickerAsync = function openCameraPickerAsync() {\n        var permissionResult, pickerResult;\n        return _regeneratorRuntime.async(function openCameraPickerAsync$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _regeneratorRuntime.awrap(ImagePicker.requestCameraPermissionsAsync());\n\n              case 2:\n                permissionResult = _context.sent;\n\n                if (!(permissionResult.granted === false)) {\n                  _context.next = 8;\n                  break;\n                }\n\n                alert('Permission to access camera roll is required!');\n                return _context.abrupt(\"return\");\n\n              case 8:\n                _context.next = 10;\n                return _regeneratorRuntime.awrap(ImagePicker.launchCameraAsync({\n                  base64: true\n                }));\n\n              case 10:\n                pickerResult = _context.sent;\n\n                _this3.setState({\n                  background_img: pickerResult.uri\n                });\n\n                _this3.setState({\n                  base64_img: pickerResult.base64\n                });\n\n                console.log(pickerResult);\n\n              case 14:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      };\n\n      var openImagePickerAsync = function openImagePickerAsync() {\n        var permissionResult, pickerResult;\n        return _regeneratorRuntime.async(function openImagePickerAsync$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _regeneratorRuntime.awrap(ImagePicker.requestMediaLibraryPermissionsAsync());\n\n              case 2:\n                permissionResult = _context2.sent;\n\n                if (!(permissionResult.granted === false)) {\n                  _context2.next = 8;\n                  break;\n                }\n\n                alert('Permission to access gallery is required!');\n                return _context2.abrupt(\"return\");\n\n              case 8:\n                _context2.next = 10;\n                return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n                  base64: true\n                }));\n\n              case 10:\n                pickerResult = _context2.sent;\n\n                _this3.setState({\n                  background_img: pickerResult.uri\n                });\n\n                _this3.setState({\n                  base64_img: pickerResult.base64\n                });\n\n                console.log(pickerResult);\n\n              case 14:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      };\n\n      return React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 7\n        }\n      }, React.createElement(SafeAreaView, {\n        style: {\n          paddingTop: Platform.OS === \"android\" ? StatusBar.currentHeight : 0\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }\n      }), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 9\n        }\n      }, React.createElement(ImageBackground, {\n        style: styles.background,\n        source: require(\"./assets/background.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }\n      }, React.createElement(View, {\n        style: {\n          flexDirection: \"row\",\n          marginTop: \"4%\",\n          marginLeft: \"4%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 15\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          _this3.props.navigation.navigate(\"mainpage\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 17\n        }\n      }, React.createElement(Ionicons, {\n        name: \"arrow-back\",\n        size: 26 * rem,\n        color: \"#484848\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 19\n        }\n      })), React.createElement(Text, {\n        style: styles.text,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }\n      }, \"SEARCH\"))), React.createElement(View, {\n        style: {\n          marginLeft: '7%',\n          marginTop: \"5%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: styles.tital,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 15\n        }\n      }, \"Scene\")), React.createElement(View, {\n        style: styles.picture,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }\n      }, React.createElement(Image, {\n        source: {\n          uri: this.state.background_img\n        },\n        style: {\n          width: 240,\n          height: 360\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 15\n        }\n      })), React.createElement(View, {\n        style: {\n          marginTop: '1%',\n          alignItems: 'center',\n          justifyContent: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 13\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontSize: 15,\n          color: '#bbb'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 15\n        }\n      }, \"Upload your background picture\")), React.createElement(View, {\n        style: styles.bottom_container,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: openImagePickerAsync,\n        style: styles.button,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: styles.buttonText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }\n      }, \"Gallery\")), React.createElement(TouchableOpacity, {\n        onPress: openCameraPickerAsync,\n        style: styles.button,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        style: styles.buttonText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 17\n        }\n      }, \"Camera\"))), React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          _this3.upload_1(_this3.state.base64_img);\n\n          _this3.props.navigation.navigate(\"fifthpage\");\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 15\n        }\n      }, React.createElement(View, {\n        style: styles.submit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: styles.submittext,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 19\n        }\n      }, \"Submit\"))))));\n    }\n  }]);\n\n  return forthpage;\n}(React.Component);\n\nexport default forthpage;\nvar windowWidth = Dimensions.get(\"window\").width;\nvar windowHeight = Dimensions.get(\"window\").height;\nvar rem = windowWidth / 380;\nvar styles = StyleSheet.create({\n  background: {\n    height: windowHeight / 14,\n    width: windowWidth\n  },\n  text: {\n    marginLeft: \"30%\",\n    fontSize: 18 * rem,\n    color: \"#484848\",\n    fontWeight: \"bold\"\n  },\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  bottom_container: {\n    margin: 12,\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  tital: {\n    fontSize: 20,\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    fontWeight: 'bold'\n  },\n  button: {\n    flex: 1,\n    alignItems: 'center',\n    borderRadius: 10 * rem,\n    margin: 9,\n    padding: 4,\n    backgroundColor: '#ccc'\n  },\n  buttonText: {\n    textAlign: 'center',\n    fontSize: 16,\n    color: '#000'\n  },\n  picture: {\n    marginTop: '5%',\n    marginLeft: '15%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: '70%',\n    borderWidth: 1,\n    borderColor: '#ccc'\n  },\n  thumbnail: {\n    width: 300,\n    height: 300,\n    resizeMode: \"contain\"\n  },\n  submit: {\n    backgroundColor: \"#484848\",\n    marginTop: \"1%\",\n    marginLeft: \"31%\",\n    width: \"38%\",\n    height: \"32%\",\n    borderRadius: 10 * rem,\n    justifyContent: \"center\",\n    alignItems: \"center\"\n  },\n  submittext: {\n    color: \"white\",\n    fontSize: 16 * rem\n  }\n});","map":{"version":3,"sources":["D:/app/my-app/forthpage.js"],"names":["React","useEffect","useState","ImagePicker","Ionicons","forthpage","props","state","background_img","base64_img","data","isLoading","Base64","url","obj","image","fetch","method","headers","body","JSON","stringify","then","response","json","setState","catch","error","console","finally","openCameraPickerAsync","requestCameraPermissionsAsync","permissionResult","granted","alert","launchCameraAsync","base64","pickerResult","uri","log","openImagePickerAsync","requestMediaLibraryPermissionsAsync","launchImageLibraryAsync","flex","paddingTop","Platform","OS","StatusBar","currentHeight","styles","background","require","flexDirection","marginTop","marginLeft","navigation","navigate","rem","text","tital","picture","width","height","alignItems","justifyContent","fontSize","color","bottom_container","button","buttonText","upload_1","submit","submittext","Component","windowWidth","Dimensions","get","windowHeight","StyleSheet","create","fontWeight","container","backgroundColor","margin","borderRadius","padding","textAlign","borderWidth","borderColor","thumbnail","resizeMode"],"mappings":"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","sourcesContent":["import React, { useEffect,useState } from \"react\";\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  View,\r\n  SafeAreaView,\r\n  TouchableOpacity,\r\n  Image,\r\n  StatusBar,\r\n  ImageBackground,\r\n  Dimensions,\r\n} from \"react-native\";\r\nimport * as ImagePicker from 'expo-image-picker';\r\nimport { Ionicons } from '@expo/vector-icons';\r\n\r\n\r\nclass forthpage extends React.Component {\r\n\r\n  //add\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {\r\n        background_img: null,\r\n        base64_img: null,\r\n        data: null,\r\n        isLoading: true,\r\n    };\r\n  }\r\n\r\n\r\n  upload_1(Base64){\r\n\r\n    const url = 'http://140.123.97.109:5360';\r\n    \r\n    // 包裝 json \r\n    var obj = {\r\n      image: Base64\r\n    };\r\n    \r\n    // 上傳 json \r\n  \r\n    fetch(url + '/test_fetch.php', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Accept': 'application/json',\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(obj)\r\n    })\r\n      .then((response) => response.json())\r\n      .then((json) => {\r\n        this.setState({ data: json });\r\n      })\r\n      .catch((error) => console.error(error))\r\n      .finally(() => {\r\n        this.setState({ isLoading: false });\r\n      });\r\n\r\n  }\r\n  \r\n\r\n\r\n  render() {\r\n   \r\n  //add\r\n    let openCameraPickerAsync = async () => {\r\n    \r\n      let permissionResult = await ImagePicker.requestCameraPermissionsAsync();\r\n      if (permissionResult.granted === false) {\r\n        alert('Permission to access camera roll is required!');\r\n        return;\r\n      }else{\r\n        let pickerResult = await ImagePicker.launchCameraAsync(\r\n          {base64: true}\r\n        );\r\n        this.setState({background_img: pickerResult.uri})\r\n        this.setState({base64_img: pickerResult.base64})\r\n        console.log(pickerResult);\r\n      } \r\n    };\r\n\r\n    let openImagePickerAsync = async () => {\r\n    \r\n      let permissionResult = await ImagePicker.requestMediaLibraryPermissionsAsync();\r\n      if (permissionResult.granted === false) {\r\n        alert('Permission to access gallery is required!');\r\n        return;\r\n      }else{\r\n        let pickerResult = await ImagePicker.launchImageLibraryAsync(\r\n          {base64: true}\r\n        );\r\n        this.setState({background_img: pickerResult.uri})\r\n        this.setState({base64_img: pickerResult.base64})\r\n        console.log(pickerResult);\r\n      }\r\n    };\r\n\r\n\r\n\r\n    \r\n    return (\r\n      <View style={{ flex: 1 }}>\r\n        <SafeAreaView\r\n          style={{\r\n            paddingTop: Platform.OS === \"android\" ? StatusBar.currentHeight : 0, //對齊上面\r\n          }}\r\n        />\r\n        <View>\r\n          <ImageBackground\r\n            style={styles.background}\r\n            source={require(\"./assets/background.png\")}\r\n          > \r\n              {/*upperline (back icon and search) */}\r\n              <View style={{flexDirection : \"row\",marginTop : \"4%\",marginLeft : \"4%\"}}>\r\n                <TouchableOpacity onPress={() => {\r\n                this.props.navigation.navigate(\"mainpage\");\r\n              }}>\r\n                  <Ionicons name=\"arrow-back\" size={26*rem} color=\"#484848\" />\r\n                </TouchableOpacity>\r\n                <Text style={styles.text}>SEARCH</Text>\r\n              </View>                \r\n            </ImageBackground>\r\n\r\n            {/********************/}\r\n        \r\n            \r\n            <View style={{marginLeft:'7%',marginTop:\"5%\"}}>\r\n              <Text style={styles.tital}>Scene</Text>\r\n            </View>\r\n\r\n            <View style={styles.picture}>\r\n              <Image source={{uri:this.state.background_img}} style={{ width: 240, height: 360}} />\r\n            </View>\r\n\r\n          {/*  分gallery & camera  */}\r\n            <View style={{marginTop:'1%',alignItems:'center', justifyContent:'center'}}>\r\n              <Text style={{fontSize:15, color:'#bbb'}}>Upload your background picture</Text>\r\n            </View>\r\n\r\n            <View style={styles.bottom_container}>\r\n              <TouchableOpacity onPress={openImagePickerAsync} style={styles.button}>\r\n                <Text style={styles.buttonText}>Gallery</Text>\r\n              </TouchableOpacity>\r\n              <TouchableOpacity onPress={openCameraPickerAsync} style={styles.button}>\r\n                <Text style={styles.buttonText}>Camera</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          \r\n\r\n            {/********************/}\r\n\r\n            {/*submit button */}\r\n            <View>\r\n              <TouchableOpacity \r\n                onPress={() => {\r\n                  this.upload_1(this.state.base64_img);\r\n                  this.props.navigation.navigate(\"fifthpage\");\r\n                  \r\n                }}>\r\n                <View  style={styles.submit}> \r\n                  <Text style={styles.submittext}>Submit</Text> \r\n                </View> \r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n      </View>\r\n    );\r\n  }\r\n}\r\n  \r\n\r\n\r\nexport default forthpage;\r\n\r\nconst windowWidth = Dimensions.get(\"window\").width;\r\nconst windowHeight = Dimensions.get(\"window\").height;\r\nconst rem = windowWidth / 380;\r\n\r\nconst styles = StyleSheet.create({\r\n  //style for upperline\r\n  background : {\r\n    height : windowHeight/14,\r\n    width : windowWidth,\r\n  },\r\n  text : {\r\n    marginLeft : \"30%\",\r\n    fontSize : 18*rem,\r\n    color : \"#484848\",\r\n    fontWeight : \"bold\",\r\n  },\r\n\r\n  //put the styles you defined here\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#fff',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  bottom_container:{\r\n    margin:12,\r\n    flexDirection:'row',\r\n    justifyContent:'space-between',\r\n    alignItems: 'center'\r\n  },\r\n  tital:{\r\n    fontSize: 20, \r\n    alignItems:'center',\r\n    justifyContent:'flex-start',\r\n    fontWeight:'bold',\r\n  },\r\n  button: {\r\n    flex:1,\r\n    alignItems: 'center',\r\n    borderRadius : 10*rem,\r\n    margin: 9,\r\n    padding: 4,\r\n    backgroundColor: '#ccc'\r\n  },\r\n  buttonText: {\r\n    textAlign:'center',\r\n    fontSize: 16,\r\n    color: '#000',\r\n  },\r\n  picture:{\r\n    marginTop:'5%',\r\n    marginLeft: '15%',\r\n    alignItems:'center',\r\n    justifyContent:'center',\r\n    width: '70%',\r\n    borderWidth:1, \r\n    borderColor: '#ccc'\r\n  },\r\n  thumbnail: {\r\n    width: 300,\r\n    height: 300,\r\n    resizeMode: \"contain\"\r\n  },\r\n  //style for submit button\r\n  submit : {\r\n    backgroundColor :\"#484848\",\r\n    marginTop : \"1%\",\r\n    marginLeft : \"31%\",\r\n    width : \"38%\",\r\n    height : \"32%\",\r\n    borderRadius: 10 * rem,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",  \r\n },\r\n  submittext : {\r\n    color : \"white\",\r\n    fontSize : 16*rem, \r\n  },\r\n});"]},"metadata":{},"sourceType":"module"}